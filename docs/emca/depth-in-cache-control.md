Web缓存分为客户端缓存和服务器端缓存。

# 客户端缓存


# 服务器端缓存

服务器端缓存通常包括静态资源CDN,代理器缓存等。


# 客户端缓存

包括强缓存和协商缓存。

## 强缓存

强缓存指利用请求头字段Cache-Control和Expires决定浏览器是否使用缓存。具体实现为：

### Cache-Control
> 通常在浏览器第一次请求某个资源时，服务器端返回请求的同时，设置有Cache-Control响应头字段及对应的值。该字段值所对应的不同的强缓存策略。

**详细的Cache-Control值及其含义**

cache-control值|含义|使用角色
--|--|--
public|指该请求可缓存，即使请求响应字段不包含Cache-Control和Expires字段|服务端
private|指只对某个用户操作的会话过程中可缓存，如果用户切换，缓存失效。|服务端
no-cache|指总是向服务端发出请求,这种方式通常和协商缓存混合使用|服务端或客户端
no-store|指客户端禁止存储任何客户端请求或服务端响应的任何数据，可以理解为禁用任何形式的缓存策略|服务端或客户端
max-age|指定当前请求缓存过期时间（单位秒，以当前请求事件开始计算）|服务端和客户端

### Expires
Expires字段指定一个日期/实践绝对值。在系统时间在该时间后，缓存失效。

> 当Expires和Cache-Control字段值max-age或s-maxage同时存在时，Expires字段会被浏览器忽略。


```
Expires: Wed, 21 Oct 2015 07:28:00 GMT
```
## 协商缓存

当强缓存没有命中的时候，浏览器一定会发送一个请求到服务器。通过服务器端依据资源的另外一些http header验证这个资源是否命中协商缓存。如果协商缓存命中，
服务器会将这个请求返回（304）。但是不会返回这个资源的数据，而是告诉客户端可以直接从缓存中加载这个资源。于是浏览器就又会从自己的缓存中去加载这个资源；
若未命中请求，则将资源返回客户端，并更新本地缓存数据（200）。

### Last-Modified/If-Modified-Since配合Cache-Control

### Etag/If-None-Match配合Cache-Control
